# BMAD: Database Folder in API Container

**Story:** 1.2 - Docker Compose
**Date:** 2025-10-28
**Status:** ✅ Justified

---

## Behavior

**Observed**: API Dockerfile copies `/database` folder (models) despite Story 1.2 spec only mentioning Agent needs database access.

**File**: `docker/Dockerfile.api:22`
```dockerfile
COPY database /app/database
```

---

## Measure

### Why API Needs Database Models

**Health Check** (`api/routes/health.py`):
```python
@router.get("/health")
async def health_check():
    # Queries database to verify connectivity
    async with get_db_session() as session:
        result = await session.execute(text("SELECT 1"))
    return {"status": "healthy", "database": "connected"}
```

**Future Use Cases** (Epic 2-3):
- Customer lookup for webhook validation
- Rate limiting per customer_id
- Appointment status queries

---

## Act

### Decision: Keep database/ in API

**Justification**:
1. ✅ Health check requires DB query
2. ✅ Enables future customer queries (Epic 2+)
3. ✅ Minimal overhead (~50KB models)

---

## Document

**Impact**: Positive - Enables robust health checks
**Epic 2 Readiness**: ✅ Ready for customer queries

**References**: Story 1.2, health check implementation
